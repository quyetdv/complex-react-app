(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{212:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(8),c=a(4),r=a(3),o=a(2),i=a.n(o),m=a(104),u=a.n(m),d=a(19),p=a(12),f=a(18),E=a(6),b=a(11);t.default=Object(c.g)((function(e){const{id:t}=Object(c.f)(),[a,o]=Object(s.useState)(!0),[m,h]=Object(s.useState)([]),w=Object(s.useContext)(E.a),y=Object(s.useContext)(b.a);if(Object(s.useEffect)(()=>{const e=i.a.CancelToken.source();return async function(){try{const a=await i.a.get("/post/"+t,{cancelToken:e.token});h(a.data),o(!1)}catch(e){console.log("There was a problem")}}(),()=>{e.cancel()}},[t]),!a&&!m)return n.a.createElement(f.a,null);if(a)return n.a.createElement(l.a,{title:""},n.a.createElement(p.a,null));const g=new Date(m.createdDate),N=`${g.getDate()}/${g.getMonth()+1}/${g.getFullYear()}`;return n.a.createElement(l.a,{title:m.title},n.a.createElement("div",{className:"d-flex justify-content-between"},n.a.createElement("h2",null,m.title),!!w.loggedIn&&w.user.username===m.author.username&&n.a.createElement("span",{className:"pt-2"},n.a.createElement(r.b,{to:`/post/${m._id}/edit`,"data-tip":"Edit","data-for":"edit",className:"text-primary mr-2"},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement(d.a,{id:"edit",className:"custom-tooltip"})," ",n.a.createElement("a",{onClick:async function(){if(window.confirm("Do you really want to delete this post"))try{"Success"==(await i.a.delete("/post/"+t,{data:{token:w.user.token}})).data&&(y({type:"flashMessage",value:"Post was successfully deleted."}),e.history.push("/profile/"+w.user.username))}catch(e){console.log("there was a problem")}},"data-tip":"Delete","data-for":"delete",className:"delete-post-button text-danger"},n.a.createElement("i",{className:"fas fa-trash"})),n.a.createElement(d.a,{id:"delete",className:"custom-tooltip"}))),n.a.createElement("p",{className:"text-muted small mb-4"},n.a.createElement(r.b,{to:"/profile/"+m.author.username},n.a.createElement("img",{className:"avatar-tiny",src:m.author.avatar})),"Posted by ",n.a.createElement(r.b,{to:"/profile/"+m.author.username},m.author.username)," on ",N),n.a.createElement("div",{className:"body-content"},n.a.createElement(u.a,{source:m.body,allowedTypes:["paragraph","strong","emphasis","text","heading","list","listItem"]})))}))}}]);